# Issue #165: 週間振り返りビューの実装

## 概要
## Summary
1週間分のモチベーション変化パターンを可視化・分析する週間振り返りビューを実装する。

## Root Cause Analysis (根本原因分析)
**なぜこの問題が発生したか:**
- [x] 設計段階での考慮不足
- [ ] 実装時のロジックミス
- [ ] テストケースの不備
- [ ] 外部依存関係の変更
- [x] 要件の理解不足
- [ ] 技術選定の問題
- [ ] その他: [具体的な原因を記述]

**具体的な原因:**
現在のレポート機能は統計中心で、期間内のモチベーション変化パターンや傾向を把握しにくい。継続的な自己改善には周期的な振り返りが必要。

**今後の予防策:**
- 時系列分析機能の標準実装
- ユーザーの自己改善サイクルを支援する機能設計

## 実装内容

### 機能仕様
**週間振り返りビュー**：
- 1週間（7日間）の気分・感情・進捗の変化表示
- パターン分析コメント自動生成
- 来週への改善提案表示

### 表示内容
1. **気分変化グラフ**：7日間の気分スコア推移
2. **感情タグ頻度**：週内で多く選択された感情
3. **進捗パターン**：目標カテゴリ別の進捗推移
4. **簡易分析コメント**：
   - 「今週は火曜日の気分が特に高かったです」
   - 「達成感タグが多く、充実した週でした」
   - 「後半にかけて気分が向上している傾向です」

### UI設計
- 新しいページ：`WeeklyReflectionPage.vue`
- ダッシュボードからのアクセスボタン追加
- 週選択機能（今週・先週・先々週等）

### 技術実装
- 新しいコンポーザブル：`useWeeklyAnalysis.ts`
- 週間データ集計ロジック
- パターン分析アルゴリズム（簡易版）

## Test plan
- [ ] 週間データ集計の正確性確認
- [ ] 分析コメント生成の動作確認
- [ ] 週選択機能の動作確認
- [ ] データ不足時のフォールバック表示確認
- [ ] ユニットテスト：週間分析ロジック
- [ ] E2Eテスト：週間振り返りワークフロー

## 関連
**親チケット**: #160 - [親チケット] モチベーション測定機能強化
依存: 感情タグ機能（#[番号]）、気分理由入力（#[番号]）

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>

## ラベル
priority:P2,size:M,type-basic:feature

## 実装タスク
- [ ] Issue内容の詳細確認
- [ ] 必要なファイルの特定
- [ ] 実装方針の決定
- [ ] コード実装
- [ ] テスト実行
- [ ] 動作確認

## 実行コマンド例
```bash
# Issue作業開始
npm run start-issue 165

# 作業完了後PR作成  
npm run create-pr "fix: Issue #165 週間振り返りビューの実装" "Issue #165の対応

Closes #165"
```

## Claude Code用プロンプト
```
Issue #165の対応をお願いします。

タイトル: 週間振り返りビューの実装
ラベル: priority:P2,size:M,type-basic:feature

内容:
## Summary
1週間分のモチベーション変化パターンを可視化・分析する週間振り返りビューを実装する。

## Root Cause Analysis (根本原因分析)
**なぜこの問題が発生したか:**
- [x] 設計段階での考慮不足
- [ ] 実装時のロジックミス
- [ ] テストケースの不備
- [ ] 外部依存関係の変更
- [x] 要件の理解不足
- [ ] 技術選定の問題
- [ ] その他: [具体的な原因を記述]

**具体的な原因:**
現在のレポート機能は統計中心で、期間内のモチベーション変化パターンや傾向を把握しにくい。継続的な自己改善には周期的な振り返りが必要。

**今後の予防策:**
- 時系列分析機能の標準実装
- ユーザーの自己改善サイクルを支援する機能設計

## 実装内容

### 機能仕様
**週間振り返りビュー**：
- 1週間（7日間）の気分・感情・進捗の変化表示
- パターン分析コメント自動生成
- 来週への改善提案表示

### 表示内容
1. **気分変化グラフ**：7日間の気分スコア推移
2. **感情タグ頻度**：週内で多く選択された感情
3. **進捗パターン**：目標カテゴリ別の進捗推移
4. **簡易分析コメント**：
   - 「今週は火曜日の気分が特に高かったです」
   - 「達成感タグが多く、充実した週でした」
   - 「後半にかけて気分が向上している傾向です」

### UI設計
- 新しいページ：`WeeklyReflectionPage.vue`
- ダッシュボードからのアクセスボタン追加
- 週選択機能（今週・先週・先々週等）

### 技術実装
- 新しいコンポーザブル：`useWeeklyAnalysis.ts`
- 週間データ集計ロジック
- パターン分析アルゴリズム（簡易版）

## Test plan
- [ ] 週間データ集計の正確性確認
- [ ] 分析コメント生成の動作確認
- [ ] 週選択機能の動作確認
- [ ] データ不足時のフォールバック表示確認
- [ ] ユニットテスト：週間分析ロジック
- [ ] E2Eテスト：週間振り返りワークフロー

## 関連
**親チケット**: #160 - [親チケット] モチベーション測定機能強化
依存: 感情タグ機能（#[番号]）、気分理由入力（#[番号]）

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

---
Generated: 2025-08-26 18:03:26
Source: https://github.com/RsPYP/GoalCategorizationDiary/issues/165
