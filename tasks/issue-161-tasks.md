# Issue #161: 振り返りテンプレート選択機能の実装

## 概要
## Summary
DiaryRegisterPageに振り返りテンプレート選択機能を追加し、ユーザーの内省を促進する。

## Root Cause Analysis (根本原因分析)
**なぜこの問題が発生したか:**
- [x] 設計段階での考慮不足
- [ ] 実装時のロジックミス
- [ ] テストケースの不備
- [ ] 外部依存関係の変更
- [x] 要件の理解不足
- [ ] 技術選定の問題
- [ ] その他: [具体的な原因を記述]

**具体的な原因:**
現在の日記作成画面はフリー記述のみで、ユーザーが何を書けばよいか迷いやすく、振り返りの質にばらつきが生じる。

**今後の予防策:**
- ユーザビリティを考慮した入力支援機能の検討
- 振り返りの質を高める仕組みの組み込み

## 実装内容

### 機能仕様
- テンプレート選択UI（v-select）
- 「フリー記述」「3つの振り返り質問」「気分重視記録」の3つのプリセット
- テンプレート選択時のフォーム動的変更

### テンプレート内容
**3つの振り返り質問**：
1. 今日一番うまくいったこと
2. 困ったこと・それへの対処
3. 明日やること1つ

**気分重視記録**：
- 気分スコア + 理由の詳細入力フォーカス

### 技術実装
- DiaryRegisterPage.vueのテンプレート・スクリプト修正
- 新しいデータ構造（template_type）をデータベーススキーマに追加
- 型定義の更新（database.ts, custom.ts）

## Test plan
- [ ] テンプレート選択時のフォーム変更動作確認
- [ ] 各テンプレートでの日記作成・保存確認
- [ ] 既存の日記作成機能への影響確認
- [ ] ユニットテスト：コンポーネントの状態管理
- [ ] E2Eテスト：テンプレート切り替えワークフロー

## 関連
**親チケット**: #160 - [親チケット] モチベーション測定機能強化

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>

## ラベル
priority:P2,size:M,type-basic:feature

## 実装タスク
- [ ] Issue内容の詳細確認
- [ ] 必要なファイルの特定
- [ ] 実装方針の決定
- [ ] コード実装
- [ ] テスト実行
- [ ] 動作確認

## 実行コマンド例
```bash
# Issue作業開始
npm run start-issue 161

# 作業完了後PR作成  
npm run create-pr "fix: Issue #161 振り返りテンプレート選択機能の実装" "Issue #161の対応

Closes #161"
```

## Claude Code用プロンプト
```
Issue #161の対応をお願いします。

タイトル: 振り返りテンプレート選択機能の実装
ラベル: priority:P2,size:M,type-basic:feature

内容:
## Summary
DiaryRegisterPageに振り返りテンプレート選択機能を追加し、ユーザーの内省を促進する。

## Root Cause Analysis (根本原因分析)
**なぜこの問題が発生したか:**
- [x] 設計段階での考慮不足
- [ ] 実装時のロジックミス
- [ ] テストケースの不備
- [ ] 外部依存関係の変更
- [x] 要件の理解不足
- [ ] 技術選定の問題
- [ ] その他: [具体的な原因を記述]

**具体的な原因:**
現在の日記作成画面はフリー記述のみで、ユーザーが何を書けばよいか迷いやすく、振り返りの質にばらつきが生じる。

**今後の予防策:**
- ユーザビリティを考慮した入力支援機能の検討
- 振り返りの質を高める仕組みの組み込み

## 実装内容

### 機能仕様
- テンプレート選択UI（v-select）
- 「フリー記述」「3つの振り返り質問」「気分重視記録」の3つのプリセット
- テンプレート選択時のフォーム動的変更

### テンプレート内容
**3つの振り返り質問**：
1. 今日一番うまくいったこと
2. 困ったこと・それへの対処
3. 明日やること1つ

**気分重視記録**：
- 気分スコア + 理由の詳細入力フォーカス

### 技術実装
- DiaryRegisterPage.vueのテンプレート・スクリプト修正
- 新しいデータ構造（template_type）をデータベーススキーマに追加
- 型定義の更新（database.ts, custom.ts）

## Test plan
- [ ] テンプレート選択時のフォーム変更動作確認
- [ ] 各テンプレートでの日記作成・保存確認
- [ ] 既存の日記作成機能への影響確認
- [ ] ユニットテスト：コンポーネントの状態管理
- [ ] E2Eテスト：テンプレート切り替えワークフロー

## 関連
**親チケット**: #160 - [親チケット] モチベーション測定機能強化

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

---
Generated: 2025-08-26 22:28:48
Source: https://github.com/RsPYP/GoalCategorizationDiary/issues/161
