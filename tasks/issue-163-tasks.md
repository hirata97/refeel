# Issue #163: 前日比較表示機能の実装

## 概要
## Summary
ダッシュボードに前日との気分・進捗比較表示を追加し、変化を意識しやすくする機能を実装する。

## Root Cause Analysis (根本原因分析)
**なぜこの問題が発生したか:**
- [x] 設計段階での考慮不足
- [ ] 実装時のロジックミス
- [ ] テストケースの不備
- [ ] 外部依存関係の変更
- [x] 要件の理解不足
- [ ] 技術選定の問題
- [ ] その他: [具体的な原因を記述]

**具体的な原因:**
現在のダッシュボードは統計情報中心で、日々の変化が把握しにくい。モチベーション測定には「昨日からの変化」の意識化が重要。

**今後の予防策:**
- ユーザーの行動変化を促すUI設計の重視
- 時系列データの比較表示機能の標準化

## 実装内容

### 機能仕様
**前日比較カード**をダッシュボードに追加：
- 昨日と今日の気分スコア比較（数値 + 矢印アイコン）
- 変化の大きさに応じた色分け（向上：緑、悪化：赤、安定：青）
- 前日の気分理由と今日の理由の併記（実装済みの場合）
- 連続記録日数の表示

### UI設計例
```
┌─────────────────────────┐
│ 昨日からの変化           │
│                        │
│ 気分: 6 → 8 ↗ (+2)     │
│ 昨日: 疲れていた        │
│ 今日: 目標達成できた    │
│                        │
│ 🔥 3日連続記録中        │
└─────────────────────────┘
```

### 技術実装
- 新しいコンポーネント：`ComparisonCard.vue`
- `useDashboardData.ts`に前日データ取得ロジック追加
- 前日データが存在しない場合のフォールバック表示

## Test plan
- [ ] 前日データ存在時の比較表示確認
- [ ] 前日データ不存在時のフォールバック表示確認  
- [ ] 変化の方向・大きさによる色分け確認
- [ ] レスポンシブデザインの確認
- [ ] ユニットテスト：比較データ計算ロジック
- [ ] E2Eテスト：ダッシュボード表示フロー

## 関連
**親チケット**: #160 - [親チケット] モチベーション測定機能強化

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>

## ラベル
priority:P2,size:S,type-basic:feature

## 実装タスク
- [ ] Issue内容の詳細確認
- [ ] 必要なファイルの特定
- [ ] 実装方針の決定
- [ ] コード実装
- [ ] テスト実行
- [ ] 動作確認

## 実行コマンド例
```bash
# Issue作業開始
npm run start-issue 163

# 作業完了後PR作成  
npm run create-pr "fix: Issue #163 前日比較表示機能の実装" "Issue #163の対応

Closes #163"
```

## Claude Code用プロンプト
```
Issue #163の対応をお願いします。

タイトル: 前日比較表示機能の実装
ラベル: priority:P2,size:S,type-basic:feature

内容:
## Summary
ダッシュボードに前日との気分・進捗比較表示を追加し、変化を意識しやすくする機能を実装する。

## Root Cause Analysis (根本原因分析)
**なぜこの問題が発生したか:**
- [x] 設計段階での考慮不足
- [ ] 実装時のロジックミス
- [ ] テストケースの不備
- [ ] 外部依存関係の変更
- [x] 要件の理解不足
- [ ] 技術選定の問題
- [ ] その他: [具体的な原因を記述]

**具体的な原因:**
現在のダッシュボードは統計情報中心で、日々の変化が把握しにくい。モチベーション測定には「昨日からの変化」の意識化が重要。

**今後の予防策:**
- ユーザーの行動変化を促すUI設計の重視
- 時系列データの比較表示機能の標準化

## 実装内容

### 機能仕様
**前日比較カード**をダッシュボードに追加：
- 昨日と今日の気分スコア比較（数値 + 矢印アイコン）
- 変化の大きさに応じた色分け（向上：緑、悪化：赤、安定：青）
- 前日の気分理由と今日の理由の併記（実装済みの場合）
- 連続記録日数の表示

### UI設計例
```
┌─────────────────────────┐
│ 昨日からの変化           │
│                        │
│ 気分: 6 → 8 ↗ (+2)     │
│ 昨日: 疲れていた        │
│ 今日: 目標達成できた    │
│                        │
│ 🔥 3日連続記録中        │
└─────────────────────────┘
```

### 技術実装
- 新しいコンポーネント：`ComparisonCard.vue`
- `useDashboardData.ts`に前日データ取得ロジック追加
- 前日データが存在しない場合のフォールバック表示

## Test plan
- [ ] 前日データ存在時の比較表示確認
- [ ] 前日データ不存在時のフォールバック表示確認  
- [ ] 変化の方向・大きさによる色分け確認
- [ ] レスポンシブデザインの確認
- [ ] ユニットテスト：比較データ計算ロジック
- [ ] E2Eテスト：ダッシュボード表示フロー

## 関連
**親チケット**: #160 - [親チケット] モチベーション測定機能強化

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

---
Generated: 2025-08-26 15:14:50
Source: https://github.com/RsPYP/GoalCategorizationDiary/issues/163
